-- 롤백: study_goals의 club_id 일관성 검사와 자동 동기화 제거
-- 날짜: 2025-10-16 21:32
-- 설명: migration.sql에서 수행된 변경사항 롤백

-- ============================================================================
-- 1단계: 동기화 트리거 제거
-- ============================================================================
DROP TRIGGER IF EXISTS trg_sync_goal_club_id ON study_goals;

-- ============================================================================
-- 2단계: 검증 트리거 제거
-- ============================================================================
DROP TRIGGER IF EXISTS trg_validate_goal_club_consistency ON study_goals;

-- ============================================================================
-- 3단계: 함수 제거
-- ============================================================================
DROP FUNCTION IF EXISTS sync_goal_club_id();
DROP FUNCTION IF EXISTS validate_goal_club_consistency();

-- ============================================================================
-- 4단계: 인덱스 제거 (선택 사항 - 성능 유지를 원하면 유지)
-- ============================================================================
-- 인덱스까지 제거하려면 아래 줄의 주석을 해제하세요
-- DROP INDEX IF EXISTS idx_goal_club;

-- 참고: 데이터 업데이트는 올바른 데이터이므로 롤백하지 않음
